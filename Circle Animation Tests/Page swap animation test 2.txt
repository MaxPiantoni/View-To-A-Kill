01 REM Quick Page Fliiping Test

10  REM Screen Setup
15      HOME
20      HGR                                     : REM Hi-Res Graphics
25      POKE 49234,0                            : REM switch to full screen graphics (hide text window)
30      HCOLOR = 3                              : REM Set the color we will draw in
35      SX = 279                                : REM The width of the screen in points
40      SY = 191                                : REM The height of the screen in points    

41 REM  Load the map image to HGR page 2
42      PRINT CHR$(4)"BLOADTESTINVERT.PIC,A$4000"     : REM Load map to HGR page 2 ($A2000 loads to page 1)
43      PRINT CHR$(4)"BLOADTESTINVERT.PIC,A$2000"     : REM Load map to HGR page 1 ($A4000 loads to page 1)
44 REM  GOSUB 900                               : REM Copy page 2 to page 1    

600     POKE 49237,1                            : REM Display graphics page 2
                              
700 REM For loops for drawing the circles, decreasing their size etc
701     IR = 30                                 : REM Set initial circle radius
702     D = 100                                 : REM Flash delay of circle
703     FL = 5                                  : REM Number of flashes before moving to next circle    
704     R = IR
705     FOR CI = 1 TO 3 STEP 1
706         POKE 49236,1                        : REM Display graphics page 1
707         GOSUB 6000    
710         FOR FC = 0 TO FL STEP 1
715 REM            POKE 49236,1                    : REM Display graphics page 1
720 REM            FOR T = 1 TO D STEP 1 : NEXT T  : REM Delay for animation 
725 REM            POKE 49237,1                    : REM Display graphics page 2
730 REM            FOR T = 1 TO D STEP 1 : NEXT T  : REM Delay for animation 
735         NEXT FC
737         POKE 49237,1                        : REM Display graphics page 2
740         GOSUB 900                           : REM Clear the screen to the map image           
745         R = R - 10
755     NEXT CI
770 REM GOSUB 900                               : REM Clear the screen
775     GOTO 704                                : REM Loop circles 

899     END

900 REM CLEAR and Transfer graphics from page 2 to page 1
915     CALL -3086                              : REM Clear Hi-Res Screen     
951     PF = 2: PT = 1                          : REM The page to copy from page and the copy to page
952     POKE 60,0: POKE 61,PF * 32
953     POKE 62,0: POKE 63,PF * 32 + 32
954     POKE 64,0: POKE 65,PT * 32 + 32
955     POKE 66,0: POKE 67,PT * 32
956     CALL -468
960     RETURN    

6000 REM BRESENHAM CIRCLE ALGORITHM IN APPLESOFT
6020 REM RADIUS = X
6021 REM X = 10 : REM INIT X = RADIUS
6022 X = R : REM INIT X = RADIUS
6030 Y = 0
6040 FE = 10 : REM ERROR TERM
6060 REM XM = 140 : YM = 80 : REM CENTER OF THE CIRCLE
6061 XM = 180 : YM = 60 : REM CENTER OF THE CIRCLE
6070 HPLOT XM + X,YM + Y
6080 REM LOOP
6090 DY = Y * 2 + 1 : Y = Y + 1
7010 FE = FE - DY
7110 IF FE < 0 THEN DX = 1 - X * 2 : X = X - 1 : FE = FE - DX
7120 HPLOT XM + X,YM + Y
7121 HPLOT XM - X,YM + Y
7122 HPLOT XM - X,YM - Y
7123 HPLOT XM + X,YM - Y
7124 HPLOT XM + Y,YM + X
7125 HPLOT XM - Y,YM + X
7126 HPLOT XM - Y,YM - X
7127 HPLOT XM + Y,YM - X
7130 IF Y < X GOTO 6080
7140 RETURN
